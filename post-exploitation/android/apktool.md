---
description: >-
  Tool for reverse engineering 3rd party, closed, binary Android apps. It can
  decode resources to nearly original form and rebuild them after making some
  modifications.
---

# apktool

### Commands

#### Decode

```bash
# Decode apk/file to a folder
apktool d package.apk -o package

# Options:
-b: do not write debug info
-f: force delete destination folder
-k: use if there was an error and some resources were dropped
-m: keep files to closest to original as possible (prevent rebuilds)
-o: output folder (default: apk.out)
-p: use framework files located in <folder>
-r: do not decode resources
-s: do not decode sources
-t: use framework files tagged by <tag>
```

#### Build

```bash
# Build an apk/jar file from folder
apktool b package -o package.apk

# Options:
-a: load aapt from specified location
-api: numeric api-level of the file to generate
-c: copy original AndroidManifest.xml and META-INF
-d: set android:debuggable to "true" in the APK's compiled manifest
-f: skip changes detection and build all files
-n: add generic network security configuration file in the output apk
-nc: disable crunching of resource files during the build step
-o: that name of apk that gets written (default: dist/name.apk)
-p: use framework files located in <folder>
```

### How to rebuild a modified apk

<pre class="language-bash"><code class="lang-bash"># Decompile apk
apktool package.apk

<strong># Modify the files that you want!!
</strong>
# Rebuild apk
apktool b package

# Generate the key to sign
keytool -genkey -keystore &#x3C;name>.keystore -alias &#x3C;name> -keyalg RSA

# Sign the apk with the key
jarsigner -keystore &#x3C;name>.keystore package.apk &#x3C;name>
</code></pre>

{% embed url="https://github.com/iBotPeaches/Apktool" %}
