---
description: >-
  objection is a runtime mobile exploration toolkit, powered by Frida, built to
  help you assess the security posture of your mobile applications, without
  needing a jailbreak.
---

# objection

## Installation

```
pip3 install objection
```

## Connection

Make a **regular ADB conection** and **start** the **frida** server in the device (and check that frida is working in both the client and the server).

If you are using a **rooted device** it is needed to select the application that you want to test inside the _**--gadget**_ option. in this case:

```
objection --gadget com.sensepost.ipewpew explore
```

## Commands

### Objection Basics

```bash
! (executes operating system commands using pythons subprocess module)
env (enumerate interesting directories that relate to the application)
reconnect (attempts to reconnect to the Frida Gadget specified with --gadget on startup)
frida (print frida information)
jobs list (list the currently running jobs)
jobs kill <job_uuid> (kills a running job identified by its UUID)
plugin load <local_path> (loads an objection plugin into the current session)
```

### File Operations

```bash
file download <remote path> [<local path>] (copy file from device)
file upload <local path> [<remote path>] (copy file to device)
import <local path> (import frida script)
```

### Device actions

```bash
android sslpinning disable [--quiet] (attempts to disable SSL Pinning on Android devices)
android root disable (attempts to disable root detection on Android devices)
android root simulate (attempts to simulate a rooted Android environment)
android shell_exec whoami (executes command)
android ui screenshot /tmp/screenshot (make a screenshot)
android clipboard monitor (gets a handle on the Android clipboard service)
```

### App Analysis

```bash
android hooking list activities (list activities of the app)
android hooking list services (list services of the app)
android hooking list receivers (list receivers of the app)
android hooking list classes (list all classes)
android hooking get current_activity (get current activity)
android hooking search classes com.sensepost.ipewpew (search classes)
android hooking search methods com.sensepost.ipewpew MainActivity (search methods)
android hooking list class_methods com.sensepost.ipewpew.MainActivity (list declared methods of a class with their parameters)
```

### Hooking

```bash
android hooking watch class_method com.sensepost.ipewpew.MainActivity.sum --dump-args --dump-backtrace --dump-return (hook a method)
android hooking watch class com.sensepost.ipewpew.MainActivity --dump-args --dump-return (hook entire class)
android hooking set return_value com.sensepost.ipewpew.MainActivity.checkPin true (sets a methods return value to always be true/false)
```

### Keystores / Intents

```bash
android keystore list (lists aliases in the current applications 'AndroidKeyStore' KeyStore)
android intents launch_activity <activity>
android intent launch_service <service_class>
```

### Memory

```bash
memory dump all <local path> (dump all memory)
memory dump from_base <base_address> <size_to_tump> <local_path> (dump part of the memory)
memory list modules (list all of the modules loaded in the current process)
memory list exports <module_name> (list exports in a specific loaded module)
memory search "<pattern>" [--string] [--offsets-only] (search the current processes' heap for a pattern)
memory write "<address>" "<pattern>" [--string] (write an arbitrary set of bytes to an address in memory)
android heap search instances <class> (search for and print live instances of a specific Java class)
```

### SQLite

```bash
sqlite connect <remote_path> (connect to a SQLite database on the remote device)
sqlite disconnect (disconnect from the currently connected SQLite database file)
sqlite status (check the status of the SQLite connection)
sqlite sync (sync the locally cached SQLite database with the remote database)
sqlite execute schema (get the database schema for the currently connected SQLite database)
sqlite execute query <sql_query> (execute a query against the cached copy of the connected SQLite database)
```

## References

{% embed url="https://github.com/sensepost/objection" %}
